<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>CS50C-week9-kdurkin</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>


  <!--leaflet CSS -->
  <!-- <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" /> -->
  <!-- placed AFTER Leaflet's CSS -->
  <!-- <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
 -->


  <!--jQuery and jQuery UI and jQuery CSS -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"
    integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0=" crossorigin="anonymous"></script>
  <link rel='stylesheet' type='text/css' media='screen'
    href='https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css'>
  <!--bootstrap CSS -->
  <link rel='stylesheet' type='text/css' media='screen'
    href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css'>
  <!--my CSS -->
  <link rel='stylesheet' type='text/css' media='screen' href='css/week9.css'>
</head>

<style>
  #mymap {
    width: 100vw;
    height: 80vh;
  }

  #leafMap {
    width: 100vw;
    height: 80vh;
  }
</style>




<body>


  <a href='inLeaflet.html'><button>Start Here - leaflet map</button></br>
    <!-- <a href='advMarkerS.html'><button>advanced marker simple</button></a>
    <a href='advMarker.html'><button>advanced marker map</button></a> -->
    <a href='inGoogle.html'><button>google map</button></a>


    <div id='sqTable'></div>


    <!-- this element is where our map will be drawn -->
    <div id="mymap"></div>
    <div id="controls">
      <span class="brand">MyApp</span>
      <a href="#" id="menu1">Do This</a>
      <a href="#" id="menu2">Do That</a>
    </div>
    <div id='leafMap'></div>



    <!-- this script element contains our custom code -->


    <script>
      /* global $, google */

      $('#menu1').click(function () {
        alert("menu 1 clicked");
        console.log(map1);
        map1.setZoom(5);
      });

      $('#menu2').click(function () {
        alert("menu 2 clicked");
        console.log(markers);
      });


      var map1, markers = [];

      function initMap() {
        // Load external json data
        $.getJSON("squirrels.json", function (jsonData) {
          // Step 1. Define the geocoord (lat,long) for the center first
          var geocoord1 = {
            lat: 38.465098,
            lng: -122.7215907
          };

          // Step 2. Create a google Map object
          map1 = new google.maps.Map(document.getElementById('mymap'), {
            center: geocoord1,
            zoom: 6
          });

          // Loop through all objects in loaded json array
          for (var c = 0; c < jsonData.squirrels.length; c++) {
            var squirrel = jsonData.squirrels[c]; // access each squirrel array
            var geocoord = {
              lat: squirrel.lat,
              lng: squirrel.lng
            };

            markers[c] = new google.maps.Marker({
              position: geocoord,
              map: map1,
              title: squirrel.title,
              custom_property: squirrel.description
            });

            // Define a click event on our marker to make + open info window
            markers[c].addListener('click', function () {
              var info1 = new google.maps.InfoWindow({
                content: this.custom_property
              });

              // Tell the info window to open inside of our map and center on this marker's geocoord
              info1.open(map1, this);
            });
          } // End for loop
        }); // End $.getJSON
      }
    </script>

    <!-- load the Google Maps API -->
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB0raeknFvhJ5Clhd1RJXfDwnQqZYD03_o&callback=initMap">
      </script>
    <!------------------------------------------------->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src='js/week9.js'></script>

</body>

</html>